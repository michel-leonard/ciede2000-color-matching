<!doctype html>
<html lang="en">
<head>
	<!-- Thu, 20 Mar 2025 04:29:10 GMT -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CIE ΔE 2000 Color Difference Generator – CIEDE2000 Examples</title>
	<style>body{font-family:Arial,Helvetica,sans-serif;line-height:1.6;margin:0;padding:0;background:#f4f4f4;color:#333;background-image:url('data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'400\' height=\'400\' viewBox=\'0 0 200 200\'%3E%3Cdefs%3E%3Cpattern id=\'textPattern\' patternUnits=\'userSpaceOnUse\' width=\'200\' height=\'200\'%3E%3Ctext x=\'120\' y=\'50\' font-size=\'20\' fill=\'%23d5d5d5\' transform=\'rotate(40 40 40)\' text-anchor=\'middle\' font-family=\'Arial, sans-serif\'%3Ewith ΔE 2000 ...%3C/text%3E%3C/pattern%3E%3C/defs%3E%3Crect width=\'100%25\' height=\'100%25\' fill=\'url(%23textPattern)\' /%3E%3C/svg%3E')}  main{max-width:800px;margin:20px auto;padding:20px;background:#fff;border-radius:5px;box-shadow:0 0 10px #0000001a}  h1{margin-top:0}  tbody td:nth-child(7),a{color:#0073e6;cursor:pointer;text-decoration:underline}  code{font-family:Courier Next,courier,monospace;border:1px solid #ddd;background:#f5f5f5;padding:0 .25em}  tbody td:nth-child(7):hover,a:hover{color:darkblue}  footer a{color:darkturquoise}  table{width:100%;border-collapse:collapse;margin-top:20px}  th,td{border:1px solid #ddd;padding:10px;text-align:center}  tbody td{padding:4px 10px}  tbody tr:nth-child(even) td{background:#f5f5f5}  th{background:#0073e6;color:#fff}  pre{background:#f9f9f9;padding:15px;border-left:5px solid #0073e6;overflow-x:auto}  footer{text-align:center;padding:10px;background:#222;color:#fff;margin-top:20px}
	</style>
</head>
<body>
<main>
	<p><a href="javascript:void(1 < window.history.length ? window.history.back() : window.location.href = 'https://bit.ly/color-difference')">Back</a> - <a href="https://github.com/michel-leonard/ciede2000-color-matching/tree/main/docs#list-of-pages">Menu</a> - <a target="_blank" href="https://michel-leonard.github.io/ciede2000-color-matching/lab-color-calculator.html">ΔE 2000 Calculator</a></p>
	<h1>CIEDE2000 Color Difference Samples</h1>
	<section>
		<p>We believe that our implementations of the <strong>CIEDE2000 color difference formula</strong>, <i>whose source code is in the public domain</i>, are <a target="_blank" href="https://github.com/michel-leonard/ciede2000-color-matching/tree/main/tests#static-tests">correct</a> and consistent across all supported programming languages to 10 decimal places.</p>
		<p>This <strong>interactive tool</strong> generates sample data to facilitate comparisons between CIE ΔE 2000 implementations. On the other hand, the <a href="https://michel-leonard.github.io/ciede2000-color-matching">large-scale generator</a> is used to carry out tests on a large number of color pairs.</p>
	</section>
	<section>
		<h2>Generator Settings</h2>
		<p>• Display the sequence <label>No. <input type="number" step="1" value="1" min="0" max="9007199254740990" id="seq"></label> of <strong>CIE ΔE2000</strong> sample data.<br>• Use <select id="compliance" name="compliance"><option value="simple">Bruce Lindbloom’s ΔE2000 formulation</option><option value="strict">Gaurav Sharma’s ΔE2000 formulation</option></select> to calculate <code>h_mean</code>.</p>
	</section>
	<section>
		<h2>Examples of ΔE 2000 Calculations using our <a target="_blank" href="https://github.com/michel-leonard/ciede2000-color-matching/blob/main/ciede-2000.js#L6">JavaScript</a> Function</h2>
		<p>Action for these samples: <a href="#" id="nav-details">Show in JSON</a></p>
		<table id="res-tab"><thead><tr><th>L1</th><th>a1</th><th>b1</th><th>L2</th><th>a2</th><th>b2</th><th>CIE ΔE 2000</th></tr></thead><tbody><tr><td>14.0000</td><td>36.0000</td><td>-3.3000</td><td>14.0000</td><td>36.0000</td><td>-3.3000</td><td>0.0000</td></tr><tr><td>39.8000</td><td>-63.3300</td><td>-37.0500</td><td>39.8000</td><td>-63.3000</td><td>-37.0500</td><td>0.0088</td></tr><tr><td>99.8000</td><td>71.4589</td><td>91.6000</td><td>99.8830</td><td>71.4589</td><td>91.6000</td><td>0.0476</td></tr><tr><td>70.0000</td><td>-15.2017</td><td>52.2160</td><td>70.0000</td><td>-15.2017</td><td>52.0000</td><td>0.0703</td></tr><tr><td>8.9300</td><td>28.4920</td><td>-107.6000</td><td>8.9300</td><td>28.6738</td><td>-107.6052</td><td>0.0991</td></tr><tr><td>32.3000</td><td>78.0000</td><td>-57.5500</td><td>32.6000</td><td>78.0000</td><td>-57.5500</td><td>0.2390</td></tr><tr><td>99.1640</td><td>-94.8000</td><td>38.3000</td><td>99.1640</td><td>-96.8367</td><td>38.3000</td><td>0.4195</td></tr><tr><td>25.0000</td><td>120.3000</td><td>96.4200</td><td>26.0000</td><td>117.9380</td><td>94.5230</td><td>0.8292</td></tr><tr><td>43.9000</td><td>-45.0000</td><td>-123.4930</td><td>43.9000</td><td>-45.0000</td><td>-115.8722</td><td>1.0487</td></tr><tr><td>56.7500</td><td>113.7000</td><td>-22.6300</td><td>56.7500</td><td>107.8000</td><td>-19.0000</td><td>1.2878</td></tr><tr><td>91.7579</td><td>33.3490</td><td>94.2779</td><td>91.7579</td><td>33.3490</td><td>100.6525</td><td>1.5237</td></tr><tr><td>29.0000</td><td>-30.4000</td><td>102.0000</td><td>29.0000</td><td>-30.4000</td><td>111.0000</td><td>1.7879</td></tr><tr><td>47.3000</td><td>33.0000</td><td>73.0000</td><td>47.3000</td><td>29.2000</td><td>73.0000</td><td>2.0740</td></tr><tr><td>71.9000</td><td>-32.0000</td><td>43.0000</td><td>71.9000</td><td>-36.9670</td><td>43.0000</td><td>2.1048</td></tr><tr><td>41.5470</td><td>55.5310</td><td>113.0000</td><td>41.5470</td><td>61.4100</td><td>113.0000</td><td>2.4545</td></tr><tr><td>62.9990</td><td>-6.3912</td><td>-56.3100</td><td>62.9990</td><td>-1.9136</td><td>-56.3100</td><td>2.6591</td></tr><tr><td>57.4430</td><td>-54.6360</td><td>-2.8981</td><td>57.4430</td><td>-44.8400</td><td>-2.8981</td><td>3.0367</td></tr><tr><td>55.0000</td><td>-40.3000</td><td>36.0000</td><td>55.0000</td><td>-40.3000</td><td>44.4145</td><td>3.2412</td></tr><tr><td>9.9200</td><td>40.0000</td><td>28.4473</td><td>9.9200</td><td>42.1263</td><td>23.5800</td><td>3.3523</td></tr><tr><td>68.8100</td><td>-87.5270</td><td>-122.3000</td><td>73.8128</td><td>-90.0000</td><td>-122.3000</td><td>3.8418</td></tr><tr><td>69.1220</td><td>120.8210</td><td>85.9000</td><td>74.0000</td><td>125.7000</td><td>85.9000</td><td>3.8806</td></tr><tr><td>23.6700</td><td>60.8000</td><td>-44.0290</td><td>29.0000</td><td>60.8000</td><td>-47.1300</td><td>4.1276</td></tr><tr><td>20.3060</td><td>58.0000</td><td>-15.3600</td><td>24.0000</td><td>54.9427</td><td>-7.1100</td><td>4.4309</td></tr><tr><td>16.3000</td><td>125.9300</td><td>-12.0000</td><td>23.0000</td><td>125.9300</td><td>-12.0000</td><td>4.6195</td></tr><tr><td>65.0881</td><td>98.8000</td><td>16.6826</td><td>71.1000</td><td>93.6000</td><td>13.0090</td><td>4.9867</td></tr><tr><td>45.0870</td><td>51.2410</td><td>-27.3600</td><td>45.0000</td><td>69.4000</td><td>-24.9000</td><td>5.6385</td></tr><tr><td>48.2491</td><td>-62.0000</td><td>-83.3390</td><td>52.3520</td><td>-55.6334</td><td>-102.2276</td><td>6.1638</td></tr><tr><td>83.0261</td><td>-36.6500</td><td>-59.9000</td><td>81.5906</td><td>-35.9810</td><td>-96.9000</td><td>7.8041</td></tr><tr><td>58.0000</td><td>-101.1000</td><td>-81.4000</td><td>57.0000</td><td>-65.4400</td><td>-84.7290</td><td>8.4414</td></tr><tr><td>59.7500</td><td>51.4000</td><td>-6.1500</td><td>62.0000</td><td>85.8057</td><td>-21.0000</td><td>9.5933</td></tr><tr><td>14.9157</td><td>120.1000</td><td>-40.3641</td><td>27.8274</td><td>122.0000</td><td>-62.0000</td><td>10.5121</td></tr><tr><td>61.0000</td><td>126.0000</td><td>-110.6000</td><td>57.8130</td><td>66.0600</td><td>-67.0000</td><td>11.3226</td></tr><tr><td>9.6432</td><td>-95.7000</td><td>45.0000</td><td>25.0000</td><td>-84.5199</td><td>67.6550</td><td>12.9656</td></tr><tr><td>36.7840</td><td>99.8600</td><td>-90.8000</td><td>24.1000</td><td>69.0000</td><td>-91.9321</td><td>13.9087</td></tr><tr><td>66.0670</td><td>47.5590</td><td>-20.1890</td><td>52.2000</td><td>62.2470</td><td>-5.1700</td><td>15.0487</td></tr><tr><td>32.7966</td><td>-40.5600</td><td>46.1900</td><td>21.7180</td><td>-99.2200</td><td>87.5350</td><td>16.0871</td></tr><tr><td>28.1000</td><td>8.8600</td><td>-59.0000</td><td>38.0000</td><td>11.6510</td><td>-121.0187</td><td>16.5627</td></tr><tr><td>38.1000</td><td>-119.9000</td><td>55.2881</td><td>14.4990</td><td>-126.5845</td><td>56.9000</td><td>17.5202</td></tr><tr><td>44.7520</td><td>-41.4410</td><td>-51.0000</td><td>29.3000</td><td>-101.9330</td><td>-76.2300</td><td>18.8831</td></tr><tr><td>34.0000</td><td>-74.1300</td><td>60.1576</td><td>54.1100</td><td>-100.0000</td><td>83.1528</td><td>19.6209</td></tr><tr><td>25.5740</td><td>64.8000</td><td>-7.1960</td><td>36.0000</td><td>49.0000</td><td>28.1100</td><td>20.5672</td></tr><tr><td>33.5000</td><td>89.0000</td><td>-22.3000</td><td>22.2024</td><td>86.0987</td><td>30.8620</td><td>21.1535</td></tr><tr><td>50.6108</td><td>125.5000</td><td>43.2026</td><td>61.0000</td><td>66.1712</td><td>-12.0000</td><td>22.6521</td></tr><tr><td>28.0000</td><td>88.9710</td><td>38.2100</td><td>2.1300</td><td>119.5200</td><td>-3.3900</td><td>23.9495</td></tr><tr><td>56.6900</td><td>-0.1719</td><td>6.0900</td><td>68.3220</td><td>11.5000</td><td>-19.1300</td><td>24.3592</td></tr><tr><td>48.9301</td><td>92.0320</td><td>70.0000</td><td>66.8000</td><td>122.6790</td><td>-30.5000</td><td>38.3230</td></tr><tr><td>3.0000</td><td>86.7565</td><td>-114.9321</td><td>48.4623</td><td>27.3198</td><td>71.1000</td><td>71.5188</td></tr><tr><td>91.3000</td><td>-70.0000</td><td>125.5900</td><td>63.1400</td><td>58.3000</td><td>-19.2200</td><td>90.9459</td></tr><tr><td>77.2000</td><td>120.0000</td><td>-123.7824</td><td>21.1694</td><td>-38.5530</td><td>87.8000</td><td>114.8689</td></tr><tr><td>90.2600</td><td>58.5300</td><td>-53.5000</td><td>16.6500</td><td>-113.9600</td><td>121.0447</td><td>125.4007</td></tr></tbody><tfoot><tr><td colspan="7">These <b>50</b> samples were filtered from <b>32073</b> ΔE 2000 calculations.</td></tr></tfoot></table>
	</section>
	<section>
		<h2>Dataset Information in JSON Format</h2>
		<p>Actions for these samples: <a href="#" id="nav-plain">Show in HTML</a> - <a href="#" id="dl-json">Download as JSON</a> - <a href="#" id="dl-csv">Download as CSV</a></p>
		<pre onclick="return; const range = document.createRange(),	 s = window.getSelection(); range.selectNodeContents(this); s.removeAllRanges(); s.addRange(range)" id="res-json">{
	"meta": {
		"title": "The CIEDE2000 color difference formula - 50 examples",
		"description": "Michel Leonard’s JavaScript Samples - Sequence No. 1",
		"compliance": "With Bruce Lindbloom's implementation of hue mean adjustment",
		"precision": "All our implementations must correspond to 10 decimal places",
		"implementations-url": "https://github.com/michel-leonard/ciede2000-color-matching",
		"data-url": "https://michel-leonard.github.io/ciede2000-color-matching/discovery-generator.html?sequence=1",
		"columns": ["L1", "a1", "b1", "L2", "a2", "b2", "CIE-DeltaE2000"]
	},
	"data": [
		[ 14.0, 36.0, -3.3, 14.0, 36.0, -3.3, 0.0 ],
		[ 39.8, -63.33, -37.05, 39.8, -63.3, -37.05, 0.0088387428 ],
		[ 99.8, 71.4589, 91.6, 99.883, 71.4589, 91.6, 0.0475745298 ],
		[ 70.0, -15.2017, 52.216, 70.0, -15.2017, 52.0, 0.0703302768 ],
		[ 8.93, 28.492, -107.6, 8.93, 28.6738, -107.6052, 0.0991348743 ],
		[ 32.3, 78.0, -57.55, 32.6, 78.0, -57.55, 0.2390251743 ],
		[ 99.164, -94.8, 38.3, 99.164, -96.8367, 38.3, 0.4194921789 ],
		[ 25.0, 120.3, 96.42, 26.0, 117.938, 94.523, 0.8292412047 ],
		[ 43.9, -45.0, -123.493, 43.9, -45.0, -115.8722, 1.0487327781 ],
		[ 56.75, 113.7, -22.63, 56.75, 107.8, -19.0, 1.2877842109 ],
		[ 91.7579, 33.349, 94.2779, 91.7579, 33.349, 100.6525, 1.5236921943 ],
		[ 29.0, -30.4, 102.0, 29.0, -30.4, 111.0, 1.7878705846 ],
		[ 47.3, 33.0, 73.0, 47.3, 29.2, 73.0, 2.0740287591 ],
		[ 71.9, -32.0, 43.0, 71.9, -36.967, 43.0, 2.104797119 ],
		[ 41.547, 55.531, 113.0, 41.547, 61.41, 113.0, 2.4544753263 ],
		[ 62.999, -6.3912, -56.31, 62.999, -1.9136, -56.31, 2.6591078213 ],
		[ 57.443, -54.636, -2.8981, 57.443, -44.84, -2.8981, 3.0367070664 ],
		[ 55.0, -40.3, 36.0, 55.0, -40.3, 44.4145, 3.2411561492 ],
		[ 9.92, 40.0, 28.4473, 9.92, 42.1263, 23.58, 3.3522599242 ],
		[ 68.81, -87.527, -122.3, 73.8128, -90.0, -122.3, 3.8418028421 ],
		[ 69.122, 120.821, 85.9, 74.0, 125.7, 85.9, 3.8806240155 ],
		[ 23.67, 60.8, -44.029, 29.0, 60.8, -47.13, 4.1276185663 ],
		[ 20.306, 58.0, -15.36, 24.0, 54.9427, -7.11, 4.4308968857 ],
		[ 16.3, 125.93, -12.0, 23.0, 125.93, -12.0, 4.619457646 ],
		[ 65.0881, 98.8, 16.6826, 71.1, 93.6, 13.009, 4.9867025952 ],
		[ 45.087, 51.241, -27.36, 45.0, 69.4, -24.9, 5.6384848732 ],
		[ 48.2491, -62.0, -83.339, 52.352, -55.6334, -102.2276, 6.1637942831 ],
		[ 83.0261, -36.65, -59.9, 81.5906, -35.981, -96.9, 7.804059731 ],
		[ 58.0, -101.1, -81.4, 57.0, -65.44, -84.729, 8.441390307 ],
		[ 59.75, 51.4, -6.15, 62.0, 85.8057, -21.0, 9.5932728166 ],
		[ 14.9157, 120.1, -40.3641, 27.8274, 122.0, -62.0, 10.5120691687 ],
		[ 61.0, 126.0, -110.6, 57.813, 66.06, -67.0, 11.3225745964 ],
		[ 9.6432, -95.7, 45.0, 25.0, -84.5199, 67.655, 12.9655767032 ],
		[ 36.784, 99.86, -90.8, 24.1, 69.0, -91.9321, 13.9086757088 ],
		[ 66.067, 47.559, -20.189, 52.2, 62.247, -5.17, 15.0487139576 ],
		[ 32.7966, -40.56, 46.19, 21.718, -99.22, 87.535, 16.0870671286 ],
		[ 28.1, 8.86, -59.0, 38.0, 11.651, -121.0187, 16.5626716323 ],
		[ 38.1, -119.9, 55.2881, 14.499, -126.5845, 56.9, 17.5201805855 ],
		[ 44.752, -41.441, -51.0, 29.3, -101.933, -76.23, 18.8830711915 ],
		[ 34.0, -74.13, 60.1576, 54.11, -100.0, 83.1528, 19.6208628027 ],
		[ 25.574, 64.8, -7.196, 36.0, 49.0, 28.11, 20.5672306621 ],
		[ 33.5, 89.0, -22.3, 22.2024, 86.0987, 30.862, 21.1535212633 ],
		[ 50.6108, 125.5, 43.2026, 61.0, 66.1712, -12.0, 22.652115182 ],
		[ 28.0, 88.971, 38.21, 2.13, 119.52, -3.39, 23.9495496406 ],
		[ 56.69, -0.1719, 6.09, 68.322, 11.5, -19.13, 24.3592484494 ],
		[ 48.9301, 92.032, 70.0, 66.8, 122.679, -30.5, 38.3230002321 ],
		[ 3.0, 86.7565, -114.9321, 48.4623, 27.3198, 71.1, 71.5187720448 ],
		[ 91.3, -70.0, 125.59, 63.14, 58.3, -19.22, 90.9458694495 ],
		[ 77.2, 120.0, -123.7824, 21.1694, -38.553, 87.8, 114.8689462414 ],
		[ 90.26, 58.53, -53.5, 16.65, -113.96, 121.0447, 125.4007384389 ]
	]
}</pre>
	</section>
</main>
<footer>
	<p>Classic Software Engineering Solutions — This is not an official CIE application.</p>
</footer>
<script src="https://cdn.jsdelivr.net/gh/michel-leonard/ciede2000-color-matching@v1.0.0/docs/assets/scripts/cie-delta-e-2000.js" onerror="this.onerror=null;this.src='./assets/scripts/cie-delta-e-2000.js';"></script>
<script>
	class Xorshift {
		constructor(seed) {
			this.state = BigInt(seed) ^ 0xff51afd7ed558ccdn;
		}

		next() {
			this.state ^= (this.state << 13n) & 0xFFFFFFFFFFFFFFFFn;
			this.state ^= (this.state >> 7n) & 0xFFFFFFFFFFFFFFFFn;
			this.state ^= (this.state << 17n) & 0xFFFFFFFFFFFFFFFFn;
			return this.state & 0xFFFFFFFFFFFFFFFFn;
		}

		nextFloat(min, max) {
			return min + (Number(this.next()) / Number(0xFFFFFFFFFFFFFFFFn)) * (max - min);
		}

		nextBool() {
			return (this.next() & 1n) === 1n;
		}
	}
	function downloadFile(data, seq, compliance, extension) {
		const blob = new Blob([data], { type: extension === "json" ? "application/json" : "text/plain" })
		const link = document.createElement("a")
		link.href = URL.createObjectURL(blob)
		link.download = "ciede2000-samples-" + seq + (compliance ? "-strict" : "") + "." + extension
		document.body.appendChild(link)
		link.click()
		document.body.removeChild(link)
	}
	const el_seq = document.getElementById("seq")
	const el_compliance = document.getElementById("compliance")
	const el_nav_details = document.getElementById("nav-details")
	const el_nav_plain = document.getElementById("nav-plain")
	const el_tab = document.getElementById("res-tab")
	const el_dl_csv = document.getElementById("dl-csv")
	const el_dl_json = document.getElementById("dl-json")
	const el_json = document.getElementById("res-json")
	function scroll(i) {
		document.body.querySelector('section:nth-child(' + i + ') > h2').scrollIntoView({ behavior: 'smooth' })
	}
	function random_sequence_id() {
		let s = '' + parseInt(1.0 + Math.random() * 9.0)
		for(let i = 1, j = parseInt(4.0 + Math.random() * 12.0); i < j; ++i)
			s += parseInt(Math.random() * 10.0)
		return parseInt(s)
	}
	const in_bounds = (min, max, ...nums) => nums.every(e => e >= min && e <= max)
	function exec(arg) {
		delete exec.seq
		const url = new URL(window.location.href.replace(/[#?].*/, ''))
		const seq = Math.abs(parseInt(el_seq.value)) || random_sequence_id()
		const compliance = el_compliance.value === "strict"
		url.searchParams.set("sequence", seq)
		if (compliance)
			url.searchParams.set("strict", "true")
		history.replaceState(null, "", url)
		el_seq.value = seq
		const rng = new Xorshift(seq)
		function round(n) {
			const r = rng.nextFloat(0., 1.)
			f = r < .2 ? 1. : r < .4 ? 10. : r < .6 ? 100. : r < .8 ? 1000. : 10000.
			return Math.round(n * f) / f
		}
		el_tab.innerHTML = '<thead><tr><th>L1</th><th>a1</th><th>b1</th><th>L2</th><th>a2</th><th>b2</th><th>CIE ΔE 2000</th></tr></thead><tbody' + (compliance ? " data-compliance=true" : "") + '></tbody><tfoot><tr><td colspan="7">Initialization...</td></tr></tfoot>'
		el_json.innerHTML = ''
		setTimeout(async () => {
			const tbody = el_tab.querySelector('tbody')
			const tfoot = el_tab.querySelector('tfoot td')
			const rows = [ ]
			for(let a = 0., b = 0., i = 0; b < 150.5; ++i) {
				const row = new Array(7)
				do {
					row[0] = round(rng.nextFloat(0.0, 100.0))
					row[1] = round(rng.nextFloat(-128.0, 128.0))
					row[2] = round(rng.nextFloat(-128.0, 128.0))
					if (b <= 1.0) {
						row[3] = rng.nextFloat(0.0, 1.0) < 0.5 ? row[0] : round(row[0] + rng.nextFloat(0.0, 2.5))
						row[4] = rng.nextFloat(0.0, 1.0) < 0.5 ? row[1] : round(row[1] + rng.nextFloat(-2.5, 2.5))
						row[5] = rng.nextFloat(0.0, 1.0) < 0.5 ? row[2] : round(row[2] + rng.nextFloat(-2.5, 2.5))
					} else if (b <= 5.0) {
						row[3] = rng.nextFloat(0.0, 1.0) < 0.5 ? row[0] : round(row[0] + rng.nextFloat(0.0, 10.0))
						row[4] = rng.nextFloat(0.0, 1.0) < 0.5 ? row[1] : round(row[1] + rng.nextFloat(-10.0, 10.0))
						row[5] = rng.nextFloat(0.0, 1.0) < 0.5 ? row[2] : round(row[2] + rng.nextFloat(-10.0, 10.0))
					} else {
						row[3] = round(rng.nextFloat(0.0, 100.0))
						row[4] = round(rng.nextFloat(-128.0, 128.0))
						row[5] = round(rng.nextFloat(-128.0, 128.0))
					}
				} while(!in_bounds(0.0, 100.0, row[0], row[3]) || !in_bounds(-128.0, 128.0, row[1], row[2], row[4], row[5]))
				const delta_e = ciede_2000(row[0], row[1], row[2], row[3], row[4], row[5], 1.0, 1.0, 1.0, compliance)
				if ((delta_e < 20.0 || delta_e !== ciede_2000(row[0], row[1], row[2], row[3], row[4], row[5], 1.0, 1.0, 1.0, !compliance)) && a <= delta_e && delta_e <= b) {
					await new Promise(res => {
						setTimeout(() => {
							a = b + 1e-14
							b += b < .1 ? .025 : b < 1. ? .25 : b < 5. ? .25 : b < 25. ? 1.0 : 25.
							row[6] = Math.round(delta_e * 1e4) / 1e4
							rows.push(row)
							const tr = document.createElement('tr')
							tr.innerHTML = "<td>" + row.map(e => e.toFixed(4)).join("</td><td>") + "</td>"
							tbody.appendChild(tr)
							tfoot.innerHTML = 'These <b>' + tbody.childElementCount + '</b> samples were filtered from <b>' + i + '</b> ΔE 2000 calculations.'
							row[6] = Math.round(delta_e * 1e10) / 1e10
							res()
						}, 0)
					})
				}
			}
			exec.seq = seq
			exec.compliance = compliance
			el_json.innerHTML = '{\n	"meta": {\n		"title": "The CIEDE2000 color difference formula - ' + rows.length + ' examples",\n		"description": "Michel Leonard’s JavaScript Samples - Sequence No. ' + seq + '",\n		"compliance": "With ' + (compliance ? "Gaurav Sharma" : "Bruce Lindbloom") + '\'s implementation of hue mean adjustment",\n		"precision": "All our implementations must correspond to 10 decimal places",\n		"implementations-url": "https://github.com/michel-leonard/ciede2000-color-matching",\n		"data-url": "' + window.location + '",\n		"columns": ["L1", "a1", "b1", "L2", "a2", "b2", "CIE-DeltaE2000"]\n	},\n	"data": ' + JSON.stringify(rows).replace("[[", "[\n\t\t[ ").replace("]]", " ]\n\t]").replaceAll("],[", " ],\n\t\t[ ").replaceAll(/([0-9.-]+)(,?)/g, (m, n, c) => {
				if (/^[0-9-]+$/.test(n))
					n += '.0'
				return c === ',' ? n + ', ' : n
			}) + '\n}\n'
			if (arg && seq !== 1)
				scroll(6)
		}, 120)
	}
	el_nav_details.addEventListener("click", function(e){
		e.preventDefault()
		scroll(6)
	})
	el_nav_plain.addEventListener("click", function(e){
		e.preventDefault()
		scroll(4)
	})
	el_dl_json.addEventListener("click", function(e){
		e.preventDefault()
		if (exec.seq)
			downloadFile(el_json.innerHTML, exec.seq, exec.compliance, "json")
	})
	el_dl_csv.addEventListener("click", function(e){
		e.preventDefault()
		if (exec.seq) {
			const data = JSON.parse(el_json.innerHTML), meta = data.meta, rows = data.data
			let res = ''
			for(let k in meta)
				if (k !== 'columns')
					res += '# ' + k + ': ' + meta[k] + '\n'
			res += 'L1,a1,b1,L2,a2,b2,CIE-DeltaE2000\n' + rows.map(e => e.join(",")).join("\n").replaceAll(/([0-9.-]+)/g, (m, n) => /^[0-9-]+$/.test(n) ? n + '.0' : n)
			downloadFile(res, exec.seq, exec.compliance, "csv")
		}
	})
	el_tab.addEventListener("click", function(event) {
		let target = event.target
		if (target.tagName === "TD" && target.cellIndex === 6 && target.parentElement.parentElement.tagName === "TBODY") {
			const compliance = !!target.parentElement.parentElement.dataset.compliance
			let cells = target.parentElement.querySelectorAll("td")
			if (cells.length >= 6) {
				let L1 = cells[0].innerText.trim()
				let a1 = cells[1].innerText.trim()
				let b1 = cells[2].innerText.trim()
				let L2 = cells[3].innerText.trim()
				let a2 = cells[4].innerText.trim()
				let b2 = cells[5].innerText.trim()
				let url = `https://michel-leonard.github.io/ciede2000-color-matching/lab-color-calculator.html?L1=${L1}&a1=${a1}&b1=${b1}&L2=${L2}&a2=${a2}&b2=${b2}${compliance ? "&strict=true" : ""}`;
				let link = document.createElement("a")
				link.href = url
				link.target = "_blank"
				document.body.appendChild(link)
				link.click()
				document.body.removeChild(link)
			}
		}
	})
	{
		const url = new URL(window.location)
		el_seq.value = parseInt(url.searchParams.get('sequence')) || 1
		el_compliance.value = url.searchParams.get('strict') ? "strict" : "simple"
		let timed
		el_seq.addEventListener('input', function () {
			clearTimeout(timed)
			timed = setTimeout(exec, 1000)
		})
		el_compliance.addEventListener('input', function () {
			clearTimeout(timed)
			timed = setTimeout(exec, 1000)
		})
		setTimeout(exec, 0, true)
	}
</script>
</body>
</html>
